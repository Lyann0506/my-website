*{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#0f172a;--bg2:#0b1220;--fg:#e2e8f0;--muted:#94a3b8;
  --sun:#fde047;--white:#ffffff
}

html,body{
  min-height:100%;
  width:100%;
  overflow-x:hidden;
  background:var(--bg);
  color:var(--fg);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif
}

/* Hero 卷動長度由 .sequence 控制 */
.sequence{height:7000px;position:relative}
#hero-canvas{
  position:sticky;top:0;width:100%;height:100vh;display:block;
  background:radial-gradient(80% 60% at 50% 50%, #0b1220 0%, #05070d 100%)
}

/* 疊在動畫上的文字（0.95 之後才出現） */
#hero-overlay{
  position:sticky;top:0;height:100vh;display:grid;place-items:center;text-align:center;
  pointer-events:none;opacity:0;filter:blur(6px);
  transition:opacity .6s,filter .6s;padding:0 20px;color:#1e293b
}
#hero-overlay.show{opacity:1;filter:blur(0)}
#hero-overlay h1{font-size:clamp(28px,6vw,64px);line-height:1.1}
#hero-overlay p{opacity:.9;margin-top:8px}
#ctas{margin-top:18px;display:flex;gap:12px;justify-content:center}
#ctas .btn{pointer-events:auto}
.btn{padding:6px 12px;border:1px solid rgba(255,255,255,.35);border-radius:999px;color:var(--white);text-decoration:none}
.btn:hover{color:var(--sun);border-color:rgba(255,255,255,.6)}

.hint{
  position:fixed;left:50%;bottom:14px;transform:translateX(-50%);
  padding:6px 10px;border-radius:10px;border:1px solid rgba(255,255,255,.25);
  background:rgba(0,0,0,.45);color:#fff;z-index:20;pointer-events:none;opacity:.85
}
.hint.hide{display:none}

/* 導覽 */
.topnav{
  position:sticky;top:0;z-index:9;background:rgba(11,18,32,.6);
  backdrop-filter:blur(6px);border-bottom:1px solid rgba(255,255,255,.08)
}
.nav-inner{max-width:1100px;margin:0 auto;padding:12px 20px;display:flex;gap:18px;align-items:center}
.navlink{color:var(--white);text-decoration:none;opacity:.95;padding:4px 10px;border-radius:999px;border:1px solid transparent}
.navlink:hover{color:var(--sun);border-color:rgba(255,255,255,.4)}

/* Main & Units */
main{max-width:1100px;margin:0 auto;padding:40px 20px}
.panel{padding:56px 0;border-bottom:1px solid rgba(255,255,255,.08)}
.panel h2{font-size:clamp(28px,4vw,40px);margin-bottom:12px}

.unit-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;margin-top:16px;padding:0 6px}
.unit-card{background:var(--bg2);border:1px solid rgba(255,255,255,.08);border-radius:14px;overflow:hidden}
.unit-cover{width:100%;aspect-ratio:16/9;background:#23304b}
.unit-cover img{width:100%;height:100%;display:block;object-fit:cover}
.unit-body{padding:18px}
.unit-body h3{font-size:18px;margin-bottom:10px}
.unit-list{list-style:none;display:grid;gap:8px}
.link{color:var(--white);text-decoration:none;border-bottom:1px dotted rgba(255,255,255,.35)}
.link:hover{color:var(--sun)}

/* Hero 固定播放補丁 */
#hero-canvas.fixed,
#hero-overlay.fixed,
#overlayText.fixed {
  position: fixed !important;
  inset: 0;
  width: 100vw;
  height: 100vh;
}
#hero-overlay.fixed,#overlayText.fixed{z-index:2}
#hero-canvas.fixed{z-index:1}

/* === Masonry Gallery（瀑布流） === */
/* === Masonry Gallery（瀑布流） === */
/* 用欄寬自適應，視窗寬了就自動變更多欄 */
.masonry{
  column-width: 220px;   /* 想要卡更大或更小，調這個數字即可 */
  column-gap: 14px;
  width: 100%;
}

/* 每個項目避免跨欄斷裂 */
.masonry a{
  display: block;
  width: 100%;
  margin: 0 0 14px;
  break-inside: avoid;
  border-radius: 10px;
  overflow: hidden;
  border: 1px solid rgba(255,255,255,.08);
  background: #22314f;
}

/* 讓圖片用自身比例撐高，才會有不同高度的「瀑布」 */
.masonry img{
  display: block;
  width: 100%;
  height: auto;                  /* 關鍵：不要固定高度 / 絕對定位 */
  transition: transform .25s ease, filter .25s ease, opacity .25s ease;
  opacity: 1;                    /* 若之後想做淡入，可在載入前設 0 再用 JS 加 class */
}

/* hover 效果保留 */
.masonry a:hover img{
  transform: scale(1.02);
  filter: brightness(1.05);
}
